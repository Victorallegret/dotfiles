---
- name: Tap a Homebrew repository
  homebrew_tap:
    name: "{{ item }}"
  with_items:
    - caskroom/cask
    - homebrew/command-not-found
    - caskroom/drivers

- name: Installing brew packages
  homebrew:
    name: "{{ item }}"
    state: present
    update_homebrew: yes
  with_items:
    - ansible
    - ccat
    - composer
    - coreutils
    - ctop
    - ffmpeg
    - git-extras
    - git-open
    - git
    - gitlab-runner
    - gnupg
    - guetzli
    - htop
    - mas
    - node
    - noti
    - php
    - postgresql
    - screenfetch
    - tig
    - vim
    - yarn
    - zsh-autosuggestions
    - zsh-syntax-highlighting
    - zsh

- name: Installing brew cask packages
  homebrew_cask:
    name: "{{ item }}"
    state: present
    update_homebrew: yes
  with_items:
    - alfred
    - bettertouchtool
    - chromedriver
    - discord
    - docker
    - dropbox
    - filezilla
    - firefox
    - google-chrome
    - handbrake
    - highsierramediakeyenabler
    - insomnia
    - iterm2
    - itsycal
    - kap
    - logitech-options
    - plex-media-player
    - postman
    - rambox
    - sequel-pro
    - spotify
    - steam
    - synology-drive
    - vagrant
    - virtualbox
    - visual-studio-code
    - vlc

- name: Installing quick looks plugins
  homebrew_cask:
    name: "{{ item }}"
    state: present
    update_homebrew: yes
  with_items:
    - qlcolorcode
    - qlmarkdown
    - qlstephen
    - quicklook-csv
    - quicklook-json

- name: Cleaning brew up
  shell: brew cleanup
